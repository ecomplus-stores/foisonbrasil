(window.webpackJsonp=window.webpackJsonp||[]).push([[9,35,44],{186:function(t,e,s){"use strict";s(7),s(2),s(18),s(17),s(11),s(30),s(236);var i=s(38),a=s(54),r=s(41),n=s(35),o=s(107),c=s(55),u=s(40),l=s(5),d=s(13),m=s(204),_=s(205),p=s(206),h=s(39),f=s(194);const v=(t,e)=>{if("object"==typeof window){t=`productCard${t}Html`;const s="function"==typeof window[t]?window[t](e):window[t];if("string"==typeof s)return s}};var g={name:"ProductCard",components:{ALink:m.a,APicture:_.a,APrices:p.a},props:{product:Object,productId:String,isSmall:Boolean,headingTag:{type:String,default:"h3"},buyText:String,transitionClass:{type:String,default:"animated fadeIn"},canAddToCart:{type:Boolean,default:!0},ecomPassport:{type:Object,default:()=>h.default},accountUrl:{type:String,default:"/app/#/account/"},isLoaded:Boolean,installmentsOption:Object,discountOption:Object},data:()=>({body:{},isLoading:!1,isWaitingBuy:!1,isHovered:!1,isFavorite:!1,error:"",apx_tags:[],apx_productTags:{}}),computed:{i19addToFavorites:()=>Object(a.a)(i.m),i19outOfStock:()=>Object(a.a)(i.Sc),i19unavailable:()=>Object(a.a)(i.je),i19uponRequest:()=>"Sob consulta",isWithoutPrice(){return!Object(r.a)(this.body)},ratingHtml(){return v("Rating",this.body)},buyHtml(){return v("Buy",this.body)},footerHtml(){return v("Footer",this.body)},name(){return Object(n.a)(this.body)},strBuy(){return this.buyText||"object"==typeof window&&window.productCardBuyText||Object(a.a)(i.z)},isInStock(){return Object(o.a)(this.body)},isActive(){return this.body.available&&this.body.visible&&this.isInStock},isLogged:()=>h.default.checkAuthorization(),discount(){const{body:t}=this;return Object(c.a)(t)?Math.round(100*(t.base_price-Object(r.a)(t))/t.base_price):0}},methods:{getTags(){return this.apx_productTags},rng:()=>Math.floor(1e4*Math.random()),setTags(){if(this.body.categories){let t=this.body.categories.map((t=>"cat_"+t._id));t.push(this.body.sku),this.apx_tags.filter((e=>t.some((t=>e.identificador.includes(t))))).forEach((t=>{this.apx_productTags[t.type]||(this.apx_productTags[t.type]=[]),this.apx_productTags[t.type]=[...this.apx_productTags[t.type],t]})),this.apx_productTags={...this.apx_productTags}}},showEquipmentSpecs:()=>window.location.pathname.includes("equipamentos"),setBody(t){this.body=Object.assign({},t),delete this.body.body_html,delete this.body.body_text,delete this.body.inventory_records,delete this.body.price_change_records,this.isFavorite=Object(f.a)(this.body._id,this.ecomPassport)},fetchItem(){this.productId&&(this.isLoading=!0,Object(l.g)({url:`/products/${this.productId}.json`}).then((t=>{let{data:e}=t;this.$emit("update:product",e),this.setBody(e),this.$emit("update:is-loaded",!0)})).catch((t=>{console.error(t),this.body.name&&this.body.slug&&this.body.pictures||(this.error=Object(a.a)(i.W))})).finally((()=>{this.isLoading=!1})))},toggleFavorite(){this.isLogged&&(this.isFavorite=Object(f.b)(this.body._id,this.ecomPassport))},buy(){const t=this.body;if(this.showEquipmentSpecs())return window.location=`/${t.slug}`,!1;this.$emit("buy",{product:t}),this.canAddToCart&&(this.isWaitingBuy=!0,Object(l.g)({url:`/products/${t._id}.json`}).then((e=>{let{data:i}=e;const a=["variations","customizations","kit_composition"];for(let t=0;t<a.length;t++){const e=i[a[t]];if(e&&e.length)return Promise.all([s.e(0),s.e(4),s.e(2),s.e(3),s.e(20)]).then(s.bind(null,527)).then((t=>{new u.a({render:e=>e(t.default,{props:{product:i}})}).$mount(this.$refs.quickview)}))}const{quantity:r,price:n}=i;d.a.addProduct({...t,quantity:r,price:n})})).catch((e=>{console.error(e),window.location=`/${t.slug}`})).finally((()=>{this.isWaitingBuy=!1})))},storefrontGrids(t){let e=window.storefront.data.grids.find((e=>e.grid_id==t));return null!=e?e.title:""},storefrontSpecImage(t){let e=window.apx_properties.find((e=>e.title==t));return e?e.img:""}},created(){this.product&&(this.setBody(this.product),void 0===this.product.available&&(this.body.available=!0),void 0===this.product.visible&&(this.body.visible=!0)),this.isLoaded||this.fetchItem()},mounted(){this.apx_tags=[...window.apx_tags],this.setTags(),console.log(this.body)}};e.a=g},195:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-card",class:{"product-card--inactive":t.body._id&&!t.isActive},attrs:{"data-product-id":t.body._id,"data-sku":t.body.sku},on:{mouseover:function(e){t.isHovered=!0}}},[s("transition",{attrs:{"enter-active-class":t.transitionClass}},[t.isLoading?t._e():s("section",[s("div",{staticClass:"bg"},[t._t("discount-tag",(function(){return[t.isActive&&t.discount>0?s("span",{staticClass:"product-card__offer-stamp"},[s("i",{staticClass:"i-arrow-down"}),t._v(" "),s("b",[t._v(t._s(t.discount))]),t._v("% ")]):t._e()]}),null,{discount:t.discount}),t._t("stamps"),t._t("body",(function(){return[s("a-link",{staticClass:"product-card__link",attrs:{href:"/"+t.body.slug,title:t.name}},[t._t("header"),s("div",{staticClass:"product-card__pictures"},[t.body.pictures&&t.body.pictures.length?t._l(t.body.name.toLowerCase().includes("kit")?[t.body.pictures[0],t.body.pictures[t.body.pictures.length-1]].reverse():t.body.pictures.slice(0,2).reverse(),(function(e,i){return 1===t.body.pictures.length||1===i||t.isHovered?s("a-picture",{key:i,staticClass:"product-card__picture",attrs:{src:e,"can-calc-height":!1}}):t._e()})):s("a-picture",{staticClass:"product-card__picture"})],2)],2)]})),t.getTags()?s("div",{staticClass:"apx_tags"},t._l(t.getTags(),(function(e,i){return s("div",{key:i,class:i},t._l(e,(function(e,i){return s("div",[e.img?t._e():s("span",{staticClass:"text_tag",style:"--bg_:"+e.background_color+"; --cl_:"+e.color+";--bd_:"+e.border},[t._v(" "+t._s(e.title)+" ")])])})),0)})),0):t._e(),s("div",{staticClass:"product-card__content-group"},[s("a-link",{staticClass:"product-card__link",attrs:{href:"/"+t.body.slug,title:t.name}},[t._t("title",(function(){return[s(t.headingTag,{tag:"component",staticClass:"product-card__name"},[t._v(" "+t._s(t.name)+" ")])]}))],2),t._t("rating",(function(){return[t._m(0)]})),t.body.available&&t.body.visible?t.isInStock?t.isWithoutPrice?t._t("without-price",(function(){return[s("p",{staticClass:"badge badge-info mt-auto"},[t._v(" "+t._s(t.i19uponRequest)+" ")])]})):[t._t("prices",(function(){return[s("a-prices",{staticClass:"product-card__prices",attrs:{product:t.body,"installments-option":t.installmentsOption,"discount-option":t.discountOption}})]}))]:t._t("out-of-stock",(function(){return[s("p",{staticClass:"badge badge-dark mt-auto"},[t._v(" "+t._s(t.i19outOfStock)+" ")])]})):t._t("unavailable",(function(){return[s("p",{staticClass:"badge badge-warning mt-auto"},[t._v(" "+t._s(t.i19unavailable)+" ")])]})),t._t("favorite",(function(){return[s("a",{staticClass:"btn product-card__favorite fade",attrs:{href:t.isLogged?null:t.accountUrl,"aria-label":t.i19addToFavorites},on:{click:t.toggleFavorite}},[s("i",{staticClass:"i-heart mr-1",class:t.isFavorite?"active":null})])]})),t._t("footer",(function(){return[t.footerHtml?s("div",{domProps:{innerHTML:t._s(t.footerHtml)}}):t._e()]})),t.showEquipmentSpecs()?s("div",{staticClass:"product-specs"},t._l(t.body.specs,(function(e,i){return s("div",{key:i},[s("i",[t.storefrontGrids(e.grid)&&t.storefrontSpecImage(t.storefrontGrids(e.grid))?s("img",{attrs:{src:t.storefrontSpecImage(t.storefrontGrids(e.grid))}}):t._e()]),s("b",[t._v(t._s(e.text))])])})),0):t._e(),t.showEquipmentSpecs()?s("div",{staticClass:"product-compare"},[s("button",{attrs:{data:JSON.stringify({_id:t.body._id,name:t.body.name,sku:t.body.sku,specs:t.body.specs,image:t.body.pictures}),type:"button"}},[t._v("Comparar")])]):t._e()],2)],2),s("div",{staticClass:"product-card__buy fade",on:{click:t.buy}},[t._t("buy",(function(){return[t.buyHtml?s("div",{domProps:{innerHTML:t._s(t.buyHtml)}}):t._e(),s("button",{staticClass:"btn btn-primary",class:t.isSmall?"btn-sm":"btn-block",attrs:{type:"button",disabled:t.isWaitingBuy}},[t.isWaitingBuy?s("span",{staticClass:"product-card__buy-loading spinner-grow spinner-grow-sm",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e(),t._t("buy-button-content",(function(){return[t._v(" "+t._s(t.strBuy)+" ")]}))],2)]}))],2)])]),t.isLoading?[t._t("default"),t.error?s("div",{staticClass:"alert alert-warning small",attrs:{role:"alert"}},[t._v(" "+t._s(t.error)+" ")]):t._e()]:t._e(),s("div",{ref:"quickview"})],2)},a=[function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"product-card__rating",attrs:{"data-sku":t.body.sku},domProps:{innerHTML:t._s(t.ratingHtml)}})}]},265:function(t,e,s){"use strict";s(124),s(2),s(18),s(17),s(11);var i=s(38),a=s(54),r=s(41),n=s(116),o=s(103),c=s(13),u=s(204),l=s(205),d=s(268),m={name:"CartItem",components:{ALink:u.a,APicture:l.a,ItemCustomizations:d.a},props:{item:{type:Object,required:!0},minicart:Boolean,summary:Boolean,nameMaxLength:{type:Number,default:60},inputType:{type:String,default:"select"},canUpdateCart:{type:Boolean,default:!0}},data:()=>({quantity:1,canInputSelect:!1,kitPhotoUrl:null}),computed:{i19freebie:()=>Object(a.a)(i.Eb),i19outOfStock:()=>Object(a.a)(i.Sc),i19quantity:()=>Object(a.a)(i.jd),i19remove:()=>Object(a.a)(i.ud),cart(){return this.ecomCart.data},itemId(){return this.item._id},price(){return this.item.final_price||Object(r.a)(this.item)},img(){return Object(n.a)(this.item.picture||this.item,null,"small")},name(){return this.formatName(this.item.name)},isFreebie(){return!!Array.isArray(this.item.flags)&&this.item.flags.includes("freebie")},isIntegerQnt(){return Number.isInteger(this.maxQuantity)&&Number.isInteger(this.quantity)},minQuantity(){const t=this.item.min_quantity;return"number"==typeof t&&t>=0?t:1},maxQuantity(){if(!1===this.item.available)return 0;const t=this.item.max_quantity;return"number"==typeof t&&t>=0?t:9999999}},methods:{formatMoney:o.a,getKitPhoto(){if(this.item.kit_product){const t=new EcomSearch;t.setPageSize(1).setProductIds([this.item.kit_product._id]).fetch(!0).then((()=>{t.getItems().forEach((t=>{this.kitPhotoUrl=t.pictures[0].normal.url}))})).catch(console.error)}},formatName(t){if(t)return t.length<=this.nameMaxLength?t:`${t.substr(0,this.nameMaxLength)}...`},validateQuantity(){this.minQuantity<=this.maxQuantity&&(this.quantity<this.minQuantity?this.quantity=this.minQuantity:this.quantity>this.maxQuantity&&(this.quantity=this.maxQuantity))},itemKitData:t=>window.ecomCart.data.items.find((e=>e.product_id==t)),updateInputType(){this.validateQuantity(),this.canInputSelect=this.isIntegerQnt&&this.quantity>0&&this.quantity<=10},remove(){this.$emit("remove"),this.itemId&&this.canUpdateCart&&(this.quantity=0,this.canInputSelect=!1,this.$nextTick((()=>{c.a.removeItem(this.itemId),this.$destroy()})))}},watch:{kitPhotoUrl(t){},"item.quantity":{handler(t){!isNaN(t)&&t>=0&&(this.quantity=t)},immediate:!0},quantity(t,e){if(("number"!=typeof t||isNaN(t))&&(t=0),t!==this.item.quantity){const e=t-this.item.quantity;if(this.$emit("increase",{quantityToAdd:e,newQuantity:t}),this.itemId&&this.canUpdateCart){const t=c.a.increaseItemQnt(this.itemId,e);this.isFreebie&&(t.flags=t.flags.filter((t=>!t.startsWith("freebie"))))}}t>10&&e<=10&&this.$nextTick((()=>{this.$refs.input&&this.$refs.input.focus()}))}},created(){this.updateInputType(),this.getKitPhoto()}};e.a=m},274:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shipping-line"},[s("strong",{staticClass:"mr-2"},[t._v(" "+t._s(t.deadlineStr)+" ")]),s("span",{staticClass:"mr-2"},[t._v(" "+t._s(t.freightValueStr)+" ")]),t.shippingLine.delivery_instructions?s("small",{staticClass:"shipping__details"},[s("i",[t._v("?")]),s("span",[t._v(t._s(t.shippingLine.delivery_instructions))])]):t._e()])},a=[]},288:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"cart-item",class:{"cart-item--freebie":t.isFreebie,"cart-item--summary":t.summary}},[t.summary?s("div",{staticClass:"summary__item"},[s("a-picture",{key:t.kitPhotoUrl,attrs:{src:t.kitPhotoUrl||t.img.url,alt:t.img.alt||t.item.name}}),s("div",[s("span",{staticClass:"badge badge-secondary"},[t._v(" "+t._s(t.quantity)+" ")]),Array.isArray(t.item.flags)&&t.item.flags.includes("freebie")?[s("s",[t._v(t._s(t.formatMoney(t.getPrice(t.item))))]),s("small",{staticClass:"text-muted"},[s("i",{staticClass:"i-gift ml-2 mr-1"}),t._v(" "+t._s(t.i19freebie)+" ")])]:t._e(),t.item.kit_product?[t.item.kit_product?s("span",[t._v(" "+t._s(t.formatMoney(t.item.kit_product.price))+" ")]):t._e()]:[s("span",[t._v(" "+t._s(t.formatMoney(t.price*t.quantity))+" ")])],s("br"),t.item.slug?s("a-link",{attrs:{href:"/"+t.item.slug,target:"_blank"}},[t.item.kit_product?s("small",[t._v(" "+t._s(t.formatName(t.item.kit_product.name))+" ")]):s("small",[t._v(t._s(t.formatName(t.item.name)))])]):t._e(),s("item-customizations",{attrs:{item:t.item}}),t.item.kit_product?s("div",{staticClass:"kit_item-list"},[s("b",[t._v("Itens do Kit:")]),t._l(t.item.kit_product.composition,(function(e){return s("div",{staticClass:"item"},[t._v(" "+t._s(e.quantity)+"x "+t._s(t.itemKitData(e._id).name)+" ")])}))],2):t._e()],2)],1):s("div",{staticClass:"cart-item__container"},[s("div",{staticClass:"cart-item__thumb"},[t.img?s(t.item.slug?"a-link":"span",{tag:"component",attrs:{href:"/"+t.item.slug}},[s("a-picture",{key:t.kitPhotoUrl,attrs:{src:t.kitPhotoUrl||t.img.url,alt:t.img.alt||t.item.name}})],1):t._e(),(t.minicart,s("div",{staticClass:"d-flex w-100 align-items-center justify-content-between"},[0===t.maxQuantity?s("small",{staticClass:"cart-item__out-of-stock"},[t._v(" "+t._s(t.i19outOfStock)+" ")]):[s("div",{staticClass:"cart-item__quantity w-100",attrs:{title:t.i19quantity}},[t.item.kit_product||t.item.keep_item_quantity?s("strong",[t._v(" "+t._s(t.quantity)+"x ")]):t.canInputSelect?s("div",{staticClass:"w-100 apx_minicart-quantity d-flex align-items-center"},[s("button",{attrs:{type:"button"},on:{click:function(e){t.quantity--,t.updateInputType()}}},[s("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("rect",{attrs:{x:"0.5",y:"0.5",width:"17",height:"17",rx:"8.5",stroke:"black"}}),s("path",{attrs:{d:"M10.5 5.25L6.75 9L10.5 12.75",stroke:"#131313","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],ref:"input",staticClass:"form-control",attrs:{type:t.inputType&&"select"!==t.inputType?t.inputType:"number",min:t.minQuantity,max:t.maxQuantity,step:t.isIntegerQnt?null:.001,readonly:!t.price},domProps:{value:t.quantity},on:{blur:[t.updateInputType,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))}}}),s("button",{attrs:{type:"button"},on:{click:function(e){t.quantity++,t.updateInputType()}}},[s("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("rect",{attrs:{x:"0.5",y:"0.5",width:"17",height:"17",rx:"8.5",stroke:"#131313"}}),s("path",{attrs:{d:"M7.5 12.75L11.25 9L7.5 5.25",stroke:"#131313","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])])]):t._e()])]],2))],1),s("div",{staticClass:"cart-item__data"},[s("div",{staticClass:"cart-item__name",attrs:{title:t.item.name}},[t.item.kit_product?s("small",{staticClass:"cart-item__name-subtitle"},[t._v(" "+t._s(t.formatName(t.item.kit_product.name))+" ")]):t.item.slug?s("a-link",{attrs:{href:"/"+t.item.slug}},[t._v(" "+t._s(t.name)+" ")]):[t._v(" "+t._s(t.name)+" ")]],2),s("item-customizations",{staticClass:"cart-item__customizations",attrs:{item:t.item}}),(t.minicart,s("div",{staticClass:"cart-item__mini-price"},[!t.isFreebie||t.price>0?s("div",{staticClass:"cart-item__prices"},[s("div",{staticClass:"cart-item__price-un fade",class:{show:t.quantity>1}},[s("span",[t._v(" "+t._s(t.formatMoney(t.price))+" ")]),s("small",[t._v("/un")])]),t.item.kit_product?s("span",[t._v(" "+t._s(t.formatMoney(t.item.kit_product.price))+" ")]):s("span",[t._v(" "+t._s(t.formatMoney(t.price*t.quantity))+" ")])]):t._e()])),t.item.kit_product?s("div",{staticClass:"kit_item-list"},[s("b",[t._v("Itens do Kit:")]),t._l(t.item.kit_product.composition,(function(e){return s("div",{staticClass:"item"},[t._v(" "+t._s(e.quantity)+"x "+t._s(t.itemKitData(e._id).name)+" ")])}))],2):t._e(),(t.minicart,t._e()),s("div",{class:t.minicart?"":"topper"},[t.summary?t._e():s("div",{staticClass:"w-100 d-flex justify-content-end"},[t.isFreebie?s("span",{staticClass:"cart-item__freebie"},[s("i",{staticClass:"i-gift mr-1"}),t._v(" "+t._s(t.i19freebie)+" ")]):s("button",{staticClass:"close",attrs:{type:"button",title:t.i19remove},on:{click:t.remove}},[s("span",{staticClass:"ico-svg"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M14.9999 9L8.99994 15M9.00006 9L15.0001 15M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#4F4F4F","stroke-width":"1.5","stroke-linecap":"round"}})])])])])])],1)])])},a=[]},295:function(t,e,s){"use strict";s(278),s(279),s(280),s(281),s(282),s(283),s(284),s(2),s(18);var i=s(38),a=s(54),r=s(118),n=s(35),o=s(41),c=s(103),u=s(116),l=s(204),d=s(205),m=s(206),_=s(268),p=s(285),h={name:"EcSummary",components:{ALink:l.a,APicture:d.a,APrices:m.a,ItemCustomizations:_.a,CartItem:p.a},props:{amount:{type:Object,required:!0},items:Array,buyer:Object,shippingAddress:Object,canShowPriceOptions:Boolean,paidInAdvance:{type:Number,default:0}},computed:{i19balanceOrPoints:()=>Object(a.a)(i.u),i19buyer:()=>Object(a.a)(i.D),i19contactPhone:()=>Object(a.a)(i.X),i19discount:()=>Object(a.a)(i.ib),i19docNumber:()=>Object(a.a)(i.mb),i19freebie:()=>Object(a.a)(i.Eb),i19freight:()=>Object(a.a)(i.Fb),i19myAccount:()=>Object(a.a)(i.oc),i19subtotal:()=>Object(a.a)(i.ae),i19summary:()=>Object(a.a)(i.be),i19toPay:()=>Object(a.a)(i.ee),i19total:()=>Object(a.a)(i.fe),amountToPay(){return this.amount.total-this.paidInAdvance},buyerName(){if(!this.buyer||!this.buyer.name)return"";const{name:t}=this.buyer;return`${t.given_name} ${t.middle_name||""} ${t.family_name}`},buyerPhone(){const t=Object(r.a)(this.buyer);return t&&/000\d{2}/.test(t)?t.replace("000","***"):t},uniqueKitProducts(){const t=new Set;return this.items.filter((e=>!!e.kit_product&&(!t.has(e.kit_product._id)&&(t.add(e.kit_product._id),!0))))},nonKitProducts(){return this.items.filter((t=>!t.kit_product))}},methods:{getName:n.a,getPrice:o.a,formatMoney:c.a,getImg:t=>Object(u.a)(t,null,"small")},created(){}};e.a=h},312:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("article",{staticClass:"summary"},[s("h5",{staticClass:"summary__title"},[t._v(" "+t._s(t.i19summary)+" ")]),t._t("list",(function(){return[t.items?s("div",{staticClass:"summary__list"},[t._l(t.uniqueKitProducts,(function(t){return s("cart-item",{key:t._id,attrs:{minicart:!0,item:t,isKit:!0,summary:!0}})})),t._l(t.nonKitProducts,(function(t){return s("cart-item",{key:t._id,attrs:{minicart:!0,item:t,summary:!0}})}))],2):t._e()]})),t._t("more-offers"),t._t("amount",(function(){return[s("div",{staticClass:"summary__amount"},[s("div",{staticClass:"summary__amount__row",attrs:{"data-subtotal":t.amount.subtotal.toFixed(2)}},[s("span",[t._v(t._s(t.i19subtotal))]),s("div",[t._v(t._s(t.formatMoney(t.amount.subtotal)))])]),s("div",{staticClass:"summary__amount__row",attrs:{"data-freight":t.amount.freight.toFixed(2)}},[s("span",[t._v(" "+t._s(t.i19freight)+" "),t.shippingAddress?s("small",[t._v(" "+t._s(t.shippingAddress.street)+" "),t.shippingAddress.number?[t._v(" "+t._s(t.shippingAddress.number)+" ")]:t._e(),t._v(" "+t._s(t.shippingAddress.city)+" "+t._s(t.shippingAddress.province_code)+" ")],2):t._e()]),s("div",[t._v(t._s(t.formatMoney(t.amount.freight)))])]),t.amount.discount?s("div",{staticClass:"summary__amount__row",attrs:{"data-discount":t.amount.discount.toFixed(2)}},[s("span",[t._v(t._s(t.i19discount))]),s("div",[t._v(t._s(t.formatMoney(t.amount.discount)))])]):t._e(),t.amount.balance?s("div",{staticClass:"summary__amount__row",attrs:{"data-balance":t.amount.balance.toFixed(2)}},[s("span",[t._v(t._s(t.i19balanceOrPoints))]),s("div",[t._v(t._s(t.formatMoney(t.amount.balance)))])]):t._e(),t.paidInAdvance>0?s("div",{staticClass:"summary__amount__row"},[s("span",[t._v(t._s(t.i19total))]),s("div",[t._v(t._s(t.formatMoney(t.amount.total)))])]):t._e(),t._t("amount-custom"),s("div",{staticClass:"summary__amount__row summary__amount__row--total",attrs:{"data-total":t.amountToPay.toFixed(2)}},[s("span",[t._v(t._s(t.paidInAdvance?t.i19toPay:t.i19total))]),s("a-prices",{attrs:{product:{price:t.amountToPay},"discount-option":{value:t.amount.discount},"is-literal":!0,"is-amount-total":!0,"can-show-price-options":t.canShowPriceOptions}})],1)],2)]})),t._t("default"),t._t("buyer",(function(){return[t.buyer?s("div",{staticClass:"summary__buyer"},[s("h5",[t._v(t._s(t.i19buyer))]),s("p",[t._v(" "+t._s(t.buyerName)+" "),s("br"),s("small",[t._v(t._s(t.i19docNumber)+":")]),s("span",[t._v(t._s(t.buyer.doc_number))]),s("br"),s("small",[t._v(t._s(t.i19contactPhone)+":")]),s("span",[t._v(t._s(t.buyerPhone))]),s("br"),s("small",[t._v(t._s(t.buyer.main_email))])]),s("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.$emit("click:account")}}},[s("i",{staticClass:"i-pencil mr-1"}),t._v(" "+t._s(t.i19myAccount)+" ")])]):t._e()]}))],2)},a=[]},324:function(t,e,s){"use strict";s.r(e);s(7),s(133);var i=s(38),a=s(54),r={name:"APagination",props:{totalItems:{type:Number,required:!0},page:{type:Number,default:1},pageSize:{type:Number,default:24}},computed:{i19next:()=>Object(a.a)(i.vc),i19previous:()=>Object(a.a)(i.cd),totalPages(){return Math.ceil(this.totalItems/this.pageSize)},pageNums(){const t=[];if(this.totalPages>0){let e;for(let s=-2;s<=2;s++)if(e=this.page+s,e>=1){if(!(e<=this.totalPages))break;t.push(e)}3===t[0]?t.unshift(1,2):2===t[0]&&t.unshift(1),e===this.totalPages-2?t.push(e+1,e+2):e===this.totalPages-1&&t.push(e+1)}return t},lastPageNum(){return this.pageNums[this.pageNums.length-1]}},methods:{go(t){t>=1&&t<=this.totalPages&&this.$emit("update:page",t)}}},n=s(66),o=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"d-flex"},[s("ul",{staticClass:"pagination mr-2"},[s("li",{staticClass:"page-item",class:t.page<=1?"disabled":null},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-disabled":t.page<=1||null},on:{click:function(e){return e.preventDefault(),t.go(t.page-1)}}},[t._v(" « "+t._s(t.i19previous)+" ")])]),s("li",{staticClass:"page-item",class:t.page>=t.totalPages?"disabled":null},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-disabled":t.page>=t.totalPages||null},on:{click:function(e){return e.preventDefault(),t.go(t.page+1)}}},[t._v(" "+t._s(t.i19next)+" » ")])])]),s("ul",{staticClass:"pagination d-none d-lg-flex"},[t.pageNums[0]>1?[s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.go(1)}}},[t._v(" 1 ")])]),t._m(0)]:t._e(),t._l(t.pageNums,(function(e){return s("li",{key:"p"+e,staticClass:"page-item",class:t.page===e?"active":null},[t.page!==e?s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.go(e)}}},[t._v(" "+t._s(e)+" ")]):s("span",{staticClass:"page-link",attrs:{"aria-current":"page"}},[t._v(" "+t._s(e)+" ")])])})),t.lastPageNum<t.totalPages?[t._m(1),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.go(t.totalPages)}}},[t._v(" "+t._s(t.totalPages)+" ")])])]:t._e()],2)])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"page-item disabled"},[s("span",{staticClass:"page-link"},[t._v(" ... ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"page-item disabled"},[s("span",{staticClass:"page-link"},[t._v(" ... ")])])}],!1,null,null,null);e.default=o.exports},376:function(t,e,s){var i=s(478);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(191).default)("405957c1",i,!0,{})},377:function(t,e,s){var i=s(480);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(191).default)("4f248663",i,!0,{})},378:function(t,e,s){var i=s(482);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(191).default)("735f70c0",i,!0,{})},477:function(t,e,s){"use strict";s(376)},478:function(t,e,s){(e=s(190)(!0)).push([t.i,".account__greetings i,.account__greetings svg{color:var(--success);margin-right:var(--spacer-1)}.account__logout{color:var(--text-muted);margin:var(--spacer-3) 0}.account__logout a{color:var(--danger);margin:0 var(--spacer-2)}.account__nav{display:flex;flex-wrap:nowrap;margin-top:var(--spacer-5);overflow-x:auto;overflow-y:hidden}.account__content{padding-top:var(--spacer-5);position:relative}","",{version:3,sources:["TheAccount.scss"],names:[],mappings:"AAAA,8CAA8C,oBAAoB,CAAC,4BAA4B,CAAC,iBAAiB,uBAAuB,CAAC,wBAAwB,CAAC,mBAAmB,mBAAmB,CAAC,wBAAwB,CAAC,cAAc,YAAY,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,eAAe,CAAC,iBAAiB,CAAC,kBAAkB,2BAA2B,CAAC,iBAAiB",file:"TheAccount.scss",sourcesContent:[".account__greetings i,.account__greetings svg{color:var(--success);margin-right:var(--spacer-1)}.account__logout{color:var(--text-muted);margin:var(--spacer-3) 0}.account__logout a{color:var(--danger);margin:0 var(--spacer-2)}.account__nav{display:flex;flex-wrap:nowrap;margin-top:var(--spacer-5);overflow-x:auto;overflow-y:hidden}.account__content{padding-top:var(--spacer-5);position:relative}"]}]),t.exports=e},479:function(t,e,s){"use strict";s(377)},480:function(t,e,s){(e=s(190)(!0)).push([t.i,".account-points__entry small{text-transform:lowercase}.account-points__info{align-items:center;display:flex;justify-content:space-between}.account-points__entry-title{display:flex;justify-content:space-between;width:100%}","",{version:3,sources:["AccountPoints.scss"],names:[],mappings:"AAAA,6BAA6B,wBAAwB,CAAC,sBAAsB,kBAAkB,CAAC,YAAY,CAAC,6BAA6B,CAAC,6BAA6B,YAAY,CAAC,6BAA6B,CAAC,UAAU",file:"AccountPoints.scss",sourcesContent:[".account-points__entry small{text-transform:lowercase}.account-points__info{align-items:center;display:flex;justify-content:space-between}.account-points__entry-title{display:flex;justify-content:space-between;width:100%}"]}]),t.exports=e},481:function(t,e,s){"use strict";s(378)},482:function(t,e,s){(e=s(190)(!0)).push([t.i,".orders-list{margin:0 auto;max-width:700px}@media(min-width:768px){.orders-list__item{display:flex;justify-content:space-between}.orders-list__item>div{flex:1.4 1 0}.orders-list__item>span{flex:1.4 1 0;text-align:right}}.orders-list__item:hover .orders-list__number{text-decoration:underline}.orders-list__number{border-left:.5rem solid var(--primary-lightest);color:var(--primary);padding:0 1rem}.orders-list__number--open{border-left-color:var(--info)}.orders-list__number--closed{border-left-color:var(--success)}.orders-list__number--cancelled{border-left-color:var(--danger)}.orders-list__financial-status,.orders-list__fulfillment-status,.orders-list__status{color:var(--info);font-weight:var(--font-bold)}@media(max-width:767.98px){.orders-list__financial-status,.orders-list__fulfillment-status,.orders-list__status{float:right}}.orders-list__status--closed{color:var(--success)}.orders-list__status--cancelled{color:var(--danger)}.orders-list__financial-status--pending{color:var(--warning)}.orders-list__financial-status--in_dispute,.orders-list__financial-status--unauthorized,.orders-list__financial-status--voided{color:var(--danger)}.orders-list__financial-status--paid,.orders-list__fulfillment-status--delivered{color:var(--success)}","",{version:3,sources:["EcOrdersList.scss"],names:[],mappings:"AAAA,aAAa,aAAa,CAAC,eAAe,CAAC,wBAAwB,mBAAmB,YAAY,CAAC,6BAA6B,CAAC,uBAAuB,YAAY,CAAC,wBAAwB,YAAY,CAAC,gBAAgB,CAAC,CAAC,8CAA8C,yBAAyB,CAAC,qBAAqB,+CAA+C,CAAC,oBAAoB,CAAC,cAAc,CAAC,2BAA2B,6BAA6B,CAAC,6BAA6B,gCAAgC,CAAC,gCAAgC,+BAA+B,CAAC,qFAAqF,iBAAiB,CAAC,4BAA4B,CAAC,2BAA2B,qFAAqF,WAAW,CAAC,CAAC,6BAA6B,oBAAoB,CAAC,gCAAgC,mBAAmB,CAAC,wCAAwC,oBAAoB,CAAC,+HAA+H,mBAAmB,CAAC,iFAAiF,oBAAoB",file:"EcOrdersList.scss",sourcesContent:[".orders-list{margin:0 auto;max-width:700px}@media(min-width:768px){.orders-list__item{display:flex;justify-content:space-between}.orders-list__item>div{flex:1.4 1 0}.orders-list__item>span{flex:1.4 1 0;text-align:right}}.orders-list__item:hover .orders-list__number{text-decoration:underline}.orders-list__number{border-left:.5rem solid var(--primary-lightest);color:var(--primary);padding:0 1rem}.orders-list__number--open{border-left-color:var(--info)}.orders-list__number--closed{border-left-color:var(--success)}.orders-list__number--cancelled{border-left-color:var(--danger)}.orders-list__financial-status,.orders-list__fulfillment-status,.orders-list__status{color:var(--info);font-weight:var(--font-bold)}@media(max-width:767.98px){.orders-list__financial-status,.orders-list__fulfillment-status,.orders-list__status{float:right}}.orders-list__status--closed{color:var(--success)}.orders-list__status--cancelled{color:var(--danger)}.orders-list__financial-status--pending{color:var(--warning)}.orders-list__financial-status--in_dispute,.orders-list__financial-status--unauthorized,.orders-list__financial-status--voided{color:var(--danger)}.orders-list__financial-status--paid,.orders-list__fulfillment-status--delivered{color:var(--success)}"]}]),t.exports=e},516:function(t,e,s){"use strict";s.r(e);s(7);var i=s(39),a=s(134),r=(s(2),s(236),s(38)),n=s(54),o=s(117),c=s(385),u=s(311),l={name:"TheAccount",components:{LoginBlock:c.a,RecommendedItems:u.a},props:{customer:{type:Object,default:()=>({})},currentTab:{type:String,validator:function(t){return["orders","favorites","subscriptions","points","account"].includes(t)}},isExternalAuth:{type:Boolean,default:()=>Boolean(window.$firebaseConfig&&window.$firebaseConfig.authDomain)},ecomPassport:{type:Object,default:()=>i.default}},data:()=>({favoriteIds:[],navTabs:[]}),computed:{i19addresses:()=>Object(n.a)(r.o),i19favorites:()=>Object(n.a)(r.xb),i19hello:()=>Object(n.a)(r.Mb),i19isNotYou:()=>Object(n.a)(r.Zb),i19logout:()=>Object(n.a)(r.hc),i19noSavedFavoritesMsg:()=>Object(n.a)(r.Bc),i19orders:()=>Object(n.a)(r.Rc),i19subscriptions:()=>Object(n.a)(r.Zd),i19registration:()=>Object(n.a)(r.rd),activeTab:{get(){return this.currentTab||"account"},set(t){this.$emit("update:current-tab",t)}},localCustomer:{get(){return this.customer},set(t){this.$emit("update:customer",t)}},nickname(){return Object(o.a)(this.customer)}},methods:{hasTab(t){return this.navTabs.some((e=>e.value===t))},insertSubscriptionTab(){const t=this.hasTab("subscriptions");this.ecomPassport.checkAuthorization()&&!t&&this.ecomPassport.requestApi("/orders.json?transactions.type=recurrence&limit=1&fields=_id").then((t=>{let{data:e}=t;const{result:s}=e;s.length&&this.navTabs.push({label:this.i19subscriptions,value:"subscriptions"})})).catch(console.error)},login(t){t.checkAuthorization()&&(this.localCustomer=t.getCustomer(),this.$emit("login",t))},logout(){this.ecomPassport.checkLogin()&&(this.ecomPassport.logout(),this.$emit("logout"))}},watch:{customer:{handler(t){const e=this.hasTab("points");Array.isArray(t.loyalty_points_entries)&&t.loyalty_points_entries.length&&!e&&this.navTabs.push({label:"Cashback",value:"points"})},immediate:!0,deep:!0}},created(){if(this.isExternalAuth&&!this.ecomPassport.checkAuthorization())return void(window.location.href="/app/account");this.navTabs=[{label:this.i19registration,value:"account"},{label:this.i19orders,value:"orders"},{label:this.i19favorites,value:"favorites"}];const{favorites:t}=this.ecomPassport.getCustomer();this.favoriteIds=t||[],this.insertSubscriptionTab(),this.ecomPassport.on("login",this.insertSubscriptionTab),this.$once("hook:beforeDestroy",(()=>{this.ecomPassport.off("login",this.insertSubscriptionTab)}))}},d=(s(477),s(66)),m=Object(d.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"account"},[t.localCustomer._id?s("div",{staticClass:"account__logged"},[s("h2",{staticClass:"account__greetings"},[s("i",{staticClass:"i-user-circle"}),t._v(" "+t._s(t.i19hello+" "+t.nickname)+" ")]),s("div",{staticClass:"account__logout"},[t._v(" "+t._s(t.i19isNotYou+"?")+" "),s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout.apply(null,arguments)}}},[s("i",{staticClass:"i-sign-out"}),t._v(" "+t._s(t.i19logout)+" ")])]),s("ul",{staticClass:"account__nav nav nav-tabs"},t._l(t.navTabs,(function(e){var i=e.label,a=e.value;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:t.activeTab===a?"active":null,attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.activeTab=a}}},[t._v(" "+t._s(i)+" ")])])})),0),s("div",{staticClass:"account__content"},[s("transition",{attrs:{"enter-active-class":"animated fadeInLeft slow","leave-active-class":"animated fadeOutLeft"}},["account"!==t.currentTab&&t.currentTab?t._e():s("div",[t._t("registration",(function(){return[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[t._t("account-form")],2),s("div",{staticClass:"col-md-5 mt-3 mt-md-0"},[s("h4",[t._v(t._s(t.i19addresses))]),t._t("account-addresses")],2)])]}))],2)]),s("transition",{attrs:{"enter-active-class":"animated fadeInRight slow","leave-active-class":"animated fadeOutRight position-absolute"}},["orders"===t.currentTab?s("div",[t._t("orders-list")],2):t._e()]),s("transition",{attrs:{"enter-active-class":"animated fadeInRight slow","leave-active-class":"animated fadeOutRight position-absolute"}},["favorites"===t.currentTab?s("div",[t._t("favorites",(function(){return[t.favoriteIds.length?s("recommended-items",{attrs:{"product-ids":t.favoriteIds}}):s("div",[t._v(" "+t._s(t.i19noSavedFavoritesMsg)+" ")])]}))],2):t._e()]),s("transition",{attrs:{"enter-active-class":"animated fadeInRight slow","leave-active-class":"animated fadeOutRight position-absolute"}},["points"===t.currentTab?s("div",[t._t("account-points")],2):t._e()]),s("transition",{attrs:{"enter-active-class":"animated fadeInRight slow","leave-active-class":"animated fadeOutRight position-absolute"}},["subscriptions"===t.currentTab?s("div",[t._t("subscriptions")],2):t._e()])],1)]):s("login-block",{staticClass:"account__login",attrs:{"can-accept-guest":!1},on:{login:t.login}})],1)}),[],!1,null,null,null),_=m.exports,p=s(384),h=s(383),f=(s(18),s(235),s(56)),v=s(103),g={name:"AccountPoints",props:{customer:{type:Object,default:()=>({})}},computed:{i19available:()=>Object(n.a)(r.t),i19loyaltyPoints:()=>Object(n.a)(r.jc),i19pointsEarned:()=>Object(n.a)(r.ad),i19upTo:()=>Object(n.a)(r.oe),validPointsEntries(){const t=this.customer.loyalty_points_entries;return t?t.filter((t=>{const e=t.valid_thru;return(!e||new Date(e).getTime()>=Date.now())&&t.active_points>0})):[]},totalPoints(){return this.validPointsEntries.length?this.validPointsEntries.reduce(((t,e)=>t+e.active_points),0):0},totalCashback(){return this.validPointsEntries.length?this.validPointsEntries.reduce(((t,e)=>t+e.active_points*e.ratio),0):0}},methods:{formatDate:f.a,formatMoney:v.a}},b=(s(479),Object(d.a)(g,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.validPointsEntries.length?s("div",{staticClass:"account-points"},[s("div",{staticClass:"account-points__info"},[s("h4",[t._v(t._s(t.i19loyaltyPoints))]),s("span",[t._v(t._s(t.i19available)+": "),s("b",[t._v(t._s(t.totalPoints.toFixed(1)))]),t._v(" / Cashback: "),s("b",[t._v(t._s(t.formatMoney(t.totalCashback)))])])]),s("ul",{staticClass:"list-group"},t._l(t.validPointsEntries,(function(e){return s("li",{staticClass:"list-group-item account-points__entry"},[s("div",{staticClass:"account-points__entry-title"},[s("h5",{staticClass:"mb-1"},[t._v(" "+t._s(e.name)+" ")]),e.valid_thru?s("small",[t._v(" "+t._s(t.i19upTo)+" "+t._s(t.formatDate(e.valid_thru))+" ")]):t._e()]),t._v(" "+t._s(t.i19available)+": "),s("b",[t._v(t._s(e.active_points.toFixed(1)))]),e.earned_points?s("small",{staticClass:"text-muted"},[t._v(" / "+t._s(e.earned_points.toFixed(1)+" "+t.i19pointsEarned)+" ")]):t._e(),s("div",{staticClass:"account-points__cashback"},[t._v(" Cashback: "),s("b",[t._v(t._s(t.formatMoney(e.active_points*e.ratio)))])])])})),0)]):t._e()}),[],!1,null,null,null).exports),y=s(324),A={name:"EcOrdersList",components:{EcOrderInfo:s(325).a,APagination:y.default},props:{mergeDictionary:{type:Object,default:()=>{}},ecomPassport:{type:Object,default:()=>i.default},ordersListParams:{type:String,default:""},isSubscriptions:Boolean},data:()=>({updateInterval:null,orders:[],totalOrders:0,currentPage:1,pageSize:10}),computed:{i19active:()=>Object(n.a)(r.h),i19inactive:()=>Object(n.a)(r.Sb)},methods:{formatDate:f.a,formatMoney:v.a,i19FinancialStatus:t=>Object(n.a)(r.a)[t],i19FulfillmentStatus:t=>Object(n.a)(r.b)[t],i19OrderStatus:t=>Object(n.a)(r.e)[t],updateOrders(){return this.ecomPassport.fetchOrdersList((this.currentPage-1)*this.pageSize).then((t=>{this.orders=t})).catch(console.error)}},created(){const t=()=>{this.updateInterval=setInterval(this.updateOrders,7e3)};this.ecomPassport.checkAuthorization()?this.ecomPassport.requestApi(`/orders.json?${this.ordersListParams}`).then((t=>{let{data:e}=t;const{result:s}=e;this.ecomPassport.setCustomer({orders:s}),this.updateOrders(),this.totalOrders=s.length})).catch(this.updateOrders).finally(t):(this.updateOrders(),t())},watch:{currentPage(){this.updateOrders()}},beforeDestroy(){clearInterval(this.updateInterval)}},C=(s(481),Object(d.a)(A,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"orders-list"},[t._l(t.orders,(function(e){return t.orders.length?s("div",{staticClass:"list-group list-group-flush"},[s("a",{staticClass:"orders-list__item list-group-item list-group-item-action",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),function(){return t.$emit("click:order",e)}.apply(null,arguments)}}},[s("div",[s("samp",{staticClass:"orders-list__number",class:"orders-list__number--"+e.status,domProps:{textContent:t._s("#"+e.number)}}),e.amount?s("strong",{staticClass:"orders-list__amount"},[t._v(" "+t._s(t.formatMoney(e.amount.total))+" ")]):t._e()]),s("span",[t._v(t._s(t.formatDate(e.created_at)))]),t.isSubscriptions?s("span",{staticClass:"orders-list__status",class:"orders-list__status--"+e.status},[t._v(" "+t._s("cancelled"===e.status?t.i19inactive:t.i19active)+" ")]):"cancelled"!==e.status&&e.financial_status?"paid"===e.financial_status.current&&e.fulfillment_status?s("span",{staticClass:"orders-list__fulfillment-status",class:"orders-list__fulfillment-status--"+e.fulfillment_status.current},[t._v(" "+t._s(t.i19FulfillmentStatus(e.fulfillment_status.current))+" ")]):s("span",{staticClass:"orders-list__financial-status",class:"orders-list__financial-status--"+e.financial_status.current},[t._v(" "+t._s(t.i19FinancialStatus(e.financial_status.current))+" ")]):s("span",{staticClass:"orders-list__status",class:"orders-list__status--"+e.status},[t._v(" "+t._s(t.i19OrderStatus(e.status))+" ")])])]):t._e()})),t.totalOrders>1?s("a-pagination",{staticClass:"mt-3",attrs:{"total-items":t.totalOrders,page:t.currentPage,"page-size":t.pageSize},on:{"update:page":function(e){t.currentPage=e}}}):t._e()],2)}),[],!1,null,null,null)),w=C.exports,k={name:"account",components:{TheAccount:_,AccountForm:p.a,AccountAddresses:h.a,AccountPoints:b,EcOrdersList:w},data:()=>({isMounted:!1,ecomPassport:i.default}),computed:{customer:{get(){return this.$store.getters.customer},set(t){this.setCustomer(t);const{ecomPassport:e}=this;e&&e.checkAuthorization()&&this.isMounted&&(this.triggerLoading(!0),this.saveCustomer({ecomPassport:e}).finally((()=>this.triggerLoading(!1))))}},currentTab:{get(){return this.$route.params.tab},set(t){t!==this.$route.params.tab&&this.$router.push({name:"account",params:{tab:t}})}}},methods:{...Object(a.d)(["triggerLoading","setCustomer","resetAccount"]),...Object(a.b)(["fetchCustomer","saveCustomer"]),login(t){this.ecomPassport=t,this.triggerLoading(!0),this.fetchCustomer({ecomPassport:t}).finally((()=>this.triggerLoading(!1)))},viewOrder(t){let{_id:e,number:s}=t;s&&this.$router.push({name:"order",params:{number:s,id:e}})}},created(){Boolean(window.$firebaseConfig&&window.$firebaseConfig.authDomain)&&!this.ecomPassport.checkAuthorization()&&setTimeout((()=>{this.ecomPassport.checkAuthorization()||(window.location.href="/app/account")}),1e3)},mounted(){this.isMounted=!0}},x=Object(d.a)(k,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"account"}},[s("the-account",{attrs:{"ecom-passport":t.ecomPassport,customer:t.customer,"current-tab":t.currentTab},on:{"update:customer":function(e){t.customer=e},"update:currentTab":function(e){t.currentTab=e},"update:current-tab":function(e){t.currentTab=e},login:t.login,logout:t.resetAccount},scopedSlots:t._u([{key:"account-form",fn:function(){return[s("account-form",{attrs:{customer:t.customer},on:{"update:customer":function(e){t.customer=e}}})]},proxy:!0},{key:"account-addresses",fn:function(){return[s("account-addresses",{attrs:{customer:t.customer},on:{"update:customer":function(e){t.customer=e}}})]},proxy:!0},{key:"account-points",fn:function(){return[s("account-points",{attrs:{customer:t.customer},on:{"update:customer":function(e){t.customer=e}}})]},proxy:!0},{key:"orders-list",fn:function(){return[s("ec-orders-list",{attrs:{"ecom-passport":t.ecomPassport},on:{"click:order":t.viewOrder}})]},proxy:!0},{key:"subscriptions",fn:function(){return[s("ec-orders-list",{attrs:{"ecom-passport":t.ecomPassport,"orders-list-params":"transactions.type=recurrence","is-subscriptions":!0},on:{"click:order":t.viewOrder}})]},proxy:!0}])})],1)}),[],!1,null,null,null);e.default=x.exports}}]);